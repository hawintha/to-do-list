(()=>{"use strict";const e=(()=>{const e=e=>{const t=document.querySelectorAll("lord-icon");for(let s of t)s.setAttribute("colors",e)},t=t=>{document.documentElement.className=t,localStorage.setItem("theme",t);const s=document.querySelector(".theme-icon");"dark"===t?(s.checked=!0,e("primary:#3565B0,secondary:#0540A0")):(s.checked=!1,e("primary:#4FDDDE,secondary:#4FAAEF"))},n=e=>{e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.add("hidden")};return{setTheme:t,getTheme:()=>{localStorage.getItem("theme"),t(localStorage.getItem("theme"))},showHide:n,toggleForm:(e,t)=>{n(e),t?(e.lastElementChild.previousElementSibling.classList.add("hidden"),e.lastElementChild.classList.remove("hidden"),e.firstElementChild.innerText="Edit Task",e.children.item(5).classList.add("hidden")):(document.querySelector(".task-form").reset(),e.lastElementChild.previousElementSibling.classList.remove("hidden"),e.lastElementChild.classList.add("hidden"),e.firstElementChild.innerText="New Task",e.children.item(5).classList.remove("hidden"))},addTask:(e,t,s)=>{const n=document.createElement("div");n.classList.add("task"),n.id="task-"+t,s.appendChild(n);const i=document.createElement("div");i.classList.add("flex"),n.appendChild(i);const r=document.createElement("span");r.classList.add("finish-icon","material-symbols-outlined"),r.innerText="circle",i.appendChild(r);const d=document.createElement("p");d.innerText=e[t].title,i.appendChild(d);const a=document.createElement("div");a.classList.add("grid"),n.appendChild(a);const l=document.createElement("lord-icon");l.classList.add("edit-icon"),l.src="https://cdn.lordicon.com/hiqmdfkt.json",l.trigger="loop-on-hover",l.colors="primary:#4FDDDE,secondary:#4FAAEF",l.stroke="100",l.style="width:32px;height:32px",a.appendChild(l);const o=document.createElement("div");o.classList.add("flex"),a.appendChild(o);const c=document.createElement("lord-icon");c.classList.add("star"),c.src="https://cdn.lordicon.com/whttoese.json",c.trigger="morph",c.colors="primary:#4FDDDE,secondary:#4FAAEF",c.stroke="100",c.style="width:32px;height:32px",o.appendChild(c);const m=document.createElement("span");m.classList.add("star","material-symbols-outlined","hidden"),m.innerText="star",o.appendChild(m);const u=document.createElement("lord-icon");u.classList.add("trash-icon"),u.src="https://cdn.lordicon.com/tntmaygd.json",u.trigger="loop-on-hover",u.colors="primary:#4FDDDE,secondary:#4FAAEF",u.stroke="100",u.style="width:32px;height:32px",u.state="hover-empty",a.appendChild(u)},markTask:(e,t)=>{e[t].isImportant&&(document.querySelector(`#task-${t} lord-icon.star`).classList.add("hidden"),document.querySelector(`#task-${t} span.star`).classList.remove("hidden")),e[t].isFinished&&s.toggleFinish(document.querySelector(`#task-${t} .finish-icon`))}}})(),t=(()=>{function t(t){for(let n of t)"true"!==n.getAttribute("listener")&&(n.addEventListener("click",(t=>{n.classList.contains("finish-icon")?s.toggleFinish(t.target,t.target.parentElement.parentElement.id):n.classList.contains("edit-icon")?(e.toggleForm(t.target.parentElement.parentElement.parentElement.previousElementSibling,!0),s.prepareEdit(t.target.parentElement.parentElement)):n.classList.contains("star")?(e.showHide(t.target),s.starTask(t.target,t.target.parentElement.parentElement.parentElement.id)):n.classList.contains("trash-icon")&&s.deleteTask(t.target.parentElement.parentElement)})),n.setAttribute("listener","true"))}return{addTaskListeners:()=>{t(document.querySelectorAll(".finish-icon")),t(document.querySelectorAll(".edit-icon")),t(document.querySelectorAll(".star")),t(document.querySelectorAll(".trash-icon"))}}})(),s=(()=>{const s=document.querySelector("#taskTitle"),n=document.querySelector("#description"),i=document.querySelector("#projectName"),r=document.querySelector("#dueDate"),d=document.querySelector("#isImportant");let a=[];class l{constructor(e,t,s,n,i,r,d){this.title=e,this.description=t,this.project=s,this.dueDate=n,this.isImportant=i,this.isFinished=r,this.isDeleted=d}}return a.push(new l("Add light mode","","","2022-10-22",!1,!0)),a.push(new l("Make sidebar menu collapsible","","","2022-10-31",!1,!1)),a.push(new l("Allow tasks to be edited","","","2022-11-30",!0,!1)),{loadTasks:()=>{for(let t=0;t<a.length;t++)e.addTask(a,t,document.querySelector(".tasks")),e.markTask(a,t);t.addTaskListeners()},toggleFinish:function(e,t){"circle"===e.innerText?(e.innerText="task_alt",e.classList.add("finished"),e.nextElementSibling.classList.add("finished"),t&&(a[t.substring(5)].isFinished=!0)):(e.innerText="circle",e.classList.remove("finished"),e.nextElementSibling.classList.remove("finished"),t&&(a[t.substring(5)].isFinished=!1))},prepareEdit:function(e){s.value=a[e.id.substring(5)].title,n.value=a[e.id.substring(5)].description,i.value=a[e.id.substring(5)].project,r.value=a[e.id.substring(5)].dueDate,document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing"),e.classList.add("editing")},starTask:function(t,s){"LORD-ICON"===t.tagName?(e.showHide(t.nextElementSibling),a[s.substring(5)].isImportant=!0):(e.showHide(t.previousElementSibling),a[s.substring(5)].isImportant=!1)},deleteTask:function(e){a[e.id.substring(5)].isDeleted=!0,e.remove()},createNewTask:function(){!function(e,t,s,n,i){let r=new l(e,t,s,n,i);a.push(r)}(s.value,n.value,i.value,r.value,d.checked),e.addTask(a,a.length-1,document.querySelector(".tasks")),e.markTask(a,a.length-1),t.addTaskListeners(),document.querySelector(".task-form").reset()},editTask:function(){let e=a[document.querySelector(".editing").id.substring(5)];document.querySelector(".editing p").innerText=s.value,e.title=s.value,e.description=n.value,e.project=i.value,e.dueDate=r.value}}})();s.loadTasks(),function(){e.getTheme();const t=document.querySelector(".theme-icon");t.addEventListener("click",(()=>t.checked?e.setTheme("dark"):e.setTheme("light"))),document.querySelector(".add-task").addEventListener("click",(t=>{e.toggleForm(t.target.parentElement.nextElementSibling,!1)})),document.querySelector(".task-form .close").addEventListener("click",(t=>{e.showHide(t.target.parentElement)})),document.querySelector(".create-task").addEventListener("click",(t=>{e.showHide(t.target.parentElement),s.createNewTask()})),document.querySelector(".confirm-edit").addEventListener("click",(t=>{e.showHide(t.target.parentElement),s.editTask()}))}()})();