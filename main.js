(()=>{"use strict";const e=(()=>{const e=e=>{const t=document.querySelectorAll("lord-icon");for(let n of t)n.setAttribute("colors",e)},t=t=>{document.documentElement.className=t,localStorage.setItem("theme",t);const n=document.querySelector(".theme-icon");"dark"===t?(n.checked=!0,e("primary:#3565B0,secondary:#0540A0")):(n.checked=!1,e("primary:#4FDDDE,secondary:#4FAAEF"))},s=e=>{e.classList.contains("hidden")?e.classList.remove("hidden"):e.classList.add("hidden")};return{setTheme:t,getTheme:()=>{localStorage.getItem("theme"),t(localStorage.getItem("theme"))},showHide:s,toggleForm:(e,t)=>{s(e),t?(e.lastElementChild.previousElementSibling.classList.add("hidden"),e.lastElementChild.classList.remove("hidden"),e.firstElementChild.innerText="Edit Task",e.children.item(5).classList.add("hidden")):(document.querySelector(".task-form").reset(),e.lastElementChild.previousElementSibling.classList.remove("hidden"),e.lastElementChild.classList.add("hidden"),e.firstElementChild.innerText="New Task",e.children.item(5).classList.remove("hidden"))},addTask:(e,t,n)=>{const s=document.createElement("div");s.classList.add("task"),s.id="task-"+t,n.appendChild(s);const i=document.createElement("div");i.classList.add("line"),s.appendChild(i);const d=document.createElement("div");d.classList.add("flex"),i.appendChild(d);const a=document.createElement("span");a.classList.add("finish-icon","material-symbols-outlined"),a.innerText="circle",d.appendChild(a);const r=document.createElement("p");r.innerText=e[t].title,d.appendChild(r);const l=document.createElement("div");l.classList.add("grid"),i.appendChild(l);const c=document.createElement("div");c.classList.add("flex"),l.appendChild(c);const o=document.createElement("span");o.classList.add("expand","material-symbols-outlined"),o.innerText="expand_more",c.appendChild(o);const m=document.createElement("span");m.classList.add("expand","material-symbols-outlined","hidden"),m.innerText="expand_less",c.appendChild(m);const u=document.createElement("lord-icon");u.classList.add("edit-icon"),u.src="https://cdn.lordicon.com/hiqmdfkt.json",u.trigger="loop-on-hover",u.colors="primary:#4FDDDE,secondary:#4FAAEF",u.stroke="100",u.style="width:25px;height:25px",l.appendChild(u);const p=document.createElement("div");p.classList.add("flex"),l.appendChild(p);const h=document.createElement("lord-icon");h.classList.add("star"),h.src="https://cdn.lordicon.com/whttoese.json",h.trigger="morph",h.colors="primary:#4FDDDE,secondary:#4FAAEF",h.stroke="100",h.style="width:25px;height:25px",p.appendChild(h);const g=document.createElement("span");g.classList.add("star","material-symbols-outlined","hidden"),g.innerText="star",p.appendChild(g);const E=document.createElement("lord-icon");E.classList.add("trash-icon"),E.src="https://cdn.lordicon.com/tntmaygd.json",E.trigger="loop-on-hover",E.colors="primary:#4FDDDE,secondary:#4FAAEF",E.stroke="100",E.style="width:25px;height:25px",E.state="hover-empty",l.appendChild(E);const k=document.createElement("div");k.classList.add("details","hidden"),s.appendChild(k);const y=document.createElement("div");y.classList.add("detail-title"),k.appendChild(y);const T=document.createElement("span");T.innerText="Title: ",y.appendChild(T);const v=document.createElement("span");v.innerText=e[t].title,y.appendChild(v);const L=document.createElement("div");L.classList.add("detail-description"),k.appendChild(L);const S=document.createElement("span");S.innerText="Description: ",L.appendChild(S);const x=document.createElement("span");x.innerText=e[t].description,L.appendChild(x);const q=document.createElement("div");q.classList.add("detail-project"),k.appendChild(q);const f=document.createElement("span");f.innerText="Project: ",q.appendChild(f);const C=document.createElement("span");C.innerText=e[t].project,q.appendChild(C);const b=document.createElement("div");b.classList.add("detail-due-date"),k.appendChild(b);const w=document.createElement("span");w.innerText="Due: ",b.appendChild(w);const D=document.createElement("span");D.innerText=e[t].dueDate,b.appendChild(D)},markTask:(e,t)=>{e[t].isImportant&&(document.querySelector(`#task-${t} lord-icon.star`).classList.add("hidden"),document.querySelector(`#task-${t} span.star`).classList.remove("hidden")),e[t].isFinished&&n.toggleFinish(document.querySelector(`#task-${t} .finish-icon`))}}})(),t=(()=>{function t(t){for(let s of t)"true"!==s.getAttribute("listener")&&(s.addEventListener("click",(t=>{s.classList.contains("finish-icon")?n.toggleFinish(t.target,t.target.parentElement.parentElement.parentElement.id):s.classList.contains("expand")?(e.showHide(t.target),"expand_more"===t.target.innerText?e.showHide(s.nextElementSibling):e.showHide(s.previousElementSibling),e.showHide(t.target.parentElement.parentElement.parentElement.nextElementSibling)):s.classList.contains("edit-icon")?(e.toggleForm(document.querySelector(".task-form"),!0),n.prepareEdit(t.target.parentElement.parentElement.parentElement)):s.classList.contains("star")?(e.showHide(t.target),n.starTask(t.target,t.target.parentElement.parentElement.parentElement.parentElement.id)):s.classList.contains("trash-icon")&&n.deleteTask(t.target.parentElement.parentElement.parentElement)})),s.setAttribute("listener","true"))}return{addTaskListeners:()=>{t(document.querySelectorAll(".finish-icon")),t(document.querySelectorAll(".expand")),t(document.querySelectorAll(".edit-icon")),t(document.querySelectorAll(".star")),t(document.querySelectorAll(".trash-icon"))}}})(),n=(()=>{const n=document.querySelector("#taskTitle"),s=document.querySelector("#description"),i=document.querySelector("#projectName"),d=document.querySelector("#dueDate"),a=document.querySelector("#isImportant");let r=[];class l{constructor(e,t,n,s,i,d,a){this.title=e,this.description=t,this.project=n,this.dueDate=s,this.isImportant=i,this.isFinished=d,this.isDeleted=a}}return r.push(new l("Add dark mode","Switch toggle on upper right corner","Project 1","2022-10-22",!1,!0)),r.push(new l("Make sidebar menu collapsible","Animation","Project 1","2022-10-31",!1,!1)),r.push(new l("Allow tasks to be categorized","By date and by project","Project 1","2022-11-30",!0,!1)),{loadTasks:()=>{for(let t=0;t<r.length;t++)e.addTask(r,t,document.querySelector(".tasks")),e.markTask(r,t);t.addTaskListeners()},toggleFinish:function(e,t){"circle"===e.innerText?(e.innerText="task_alt",e.classList.add("finished"),e.nextElementSibling.classList.add("finished"),t&&(r[t.substring(5)].isFinished=!0)):(e.innerText="circle",e.classList.remove("finished"),e.nextElementSibling.classList.remove("finished"),t&&(r[t.substring(5)].isFinished=!1))},prepareEdit:function(e){n.value=r[e.id.substring(5)].title,s.value=r[e.id.substring(5)].description,i.value=r[e.id.substring(5)].project,d.value=r[e.id.substring(5)].dueDate,document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing"),e.classList.add("editing")},starTask:function(t,n){"LORD-ICON"===t.tagName?(e.showHide(t.nextElementSibling),r[n.substring(5)].isImportant=!0):(e.showHide(t.previousElementSibling),r[n.substring(5)].isImportant=!1)},deleteTask:function(e){r[e.id.substring(5)].isDeleted=!0,e.remove()},createNewTask:function(){!function(e,t,n,s,i){let d=new l(e,t,n,s,i);r.push(d)}(n.value,s.value,i.value,d.value,a.checked),e.addTask(r,r.length-1,document.querySelector(".tasks")),e.markTask(r,r.length-1),t.addTaskListeners(),document.querySelector(".task-form").reset()},editTask:function(){let e=r[document.querySelector(".editing").id.substring(5)];document.querySelector(".editing p").innerText=n.value,e.title=n.value,e.description=s.value,e.project=i.value,e.dueDate=d.value,document.querySelector(".editing .detail-title span:last-child").innerText=n.value,document.querySelector(".editing .detail-description span:last-child").innerText=s.value,document.querySelector(".editing .detail-project span:last-child").innerText=i.value,document.querySelector(".editing .detail-due-date span:last-child").innerText=d.value}}})();n.loadTasks(),function(){e.getTheme();const t=document.querySelector(".theme-icon");t.addEventListener("click",(()=>t.checked?e.setTheme("dark"):e.setTheme("light"))),document.querySelector(".add-task").addEventListener("click",(()=>{e.toggleForm(document.querySelector(".task-form"),!1)})),document.querySelector(".task-form .close").addEventListener("click",(t=>{e.showHide(t.target.parentElement)})),document.querySelector(".create-task").addEventListener("click",(t=>{e.showHide(t.target.parentElement),n.createNewTask()})),document.querySelector(".confirm-edit").addEventListener("click",(t=>{e.showHide(t.target.parentElement),n.editTask()}))}()})();