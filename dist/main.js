(()=>{"use strict";const e=(()=>{const e=e=>{const t=document.querySelectorAll("lord-icon");for(let n of t)n.setAttribute("colors",e)},t=t=>{document.documentElement.className=t,localStorage.setItem("theme",t);const n=document.querySelector(".theme-icon");"dark"===t?(n.checked=!0,e("primary:#3565B0,secondary:#0540A0")):(n.checked=!1,e("primary:#4FDDDE,secondary:#4FAAEF"))},n=document.querySelector(".task-form"),d=document.querySelector(".project-form"),r=()=>{document.querySelector(".taskView").classList.remove("minimized"),document.querySelector(".visible").classList.replace("visible","minimized"),document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing")};return{setTheme:t,getTheme:()=>{localStorage.getItem("theme"),t(localStorage.getItem("theme"))},toggleSidebar:()=>{document.querySelector("body").classList.toggle("collapsed")},toggleForm:e=>{document.querySelector(".taskView").classList.add("minimized"),"project-editor"===e?d.classList.contains("visible")?r():(n.classList.replace("visible","minimized"),d.classList.replace("minimized","visible"),document.querySelector("#newProject").value="",document.querySelector(".add-project").classList.remove("hidden"),document.querySelector(".save-project").classList.add("hidden"),document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing")):(d.classList.add("minimized"),n.classList.replace("minimized","visible"),"task-editor"===e?(document.querySelector(".create-task").classList.add("hidden"),document.querySelector(".confirm-edit").classList.remove("hidden"),document.querySelector(".task-form").firstElementChild.innerText="Edit Task",document.querySelector(".isImportant").classList.add("hidden")):"task-creator"===e&&(n.reset(),document.querySelector(".create-task").classList.remove("hidden"),document.querySelector(".confirm-edit").classList.add("hidden"),document.querySelector(".task-form").firstElementChild.innerText="New Task",document.querySelector(".isImportant").classList.remove("hidden")))},closeForm:r,addTask:(e,t,n)=>{const s=document.createElement("div");s.classList.add("task"),s.id="task-"+t,n.appendChild(s);const d=document.createElement("div");d.classList.add("line"),s.appendChild(d);const r=document.createElement("div");r.classList.add("flex"),d.appendChild(r);const i=document.createElement("span");i.classList.add("finish-icon","material-symbols-outlined"),i.innerText="circle",r.appendChild(i);const c=document.createElement("p");c.innerText=e[t].title,r.appendChild(c);const o=document.createElement("div");o.classList.add("grid"),d.appendChild(o);const a=document.createElement("div");a.classList.add("flex"),o.appendChild(a);const l=document.createElement("span");l.classList.add("expand","material-symbols-outlined"),l.innerText="expand_more",a.appendChild(l);const m=document.createElement("span");m.classList.add("expand","material-symbols-outlined","hidden"),m.innerText="expand_less",a.appendChild(m);const u=document.createElement("lord-icon");u.classList.add("edit-icon"),u.src="https://cdn.lordicon.com/hiqmdfkt.json",u.trigger="loop-on-hover",u.colors="primary:#4FDDDE,secondary:#4FAAEF",u.stroke="100",u.style="width:25px;height:25px",o.appendChild(u);const p=document.createElement("div");p.classList.add("flex"),o.appendChild(p);const h=document.createElement("lord-icon");h.classList.add("star"),h.src="https://cdn.lordicon.com/whttoese.json",h.trigger="morph",h.colors="primary:#4FDDDE,secondary:#4FAAEF",h.stroke="100",h.style="width:25px;height:25px",p.appendChild(h);const g=document.createElement("span");g.classList.add("star","material-symbols-outlined","hidden"),g.innerText="star",p.appendChild(g);const y=document.createElement("lord-icon");y.classList.add("trash-icon"),y.src="https://cdn.lordicon.com/tntmaygd.json",y.trigger="loop-on-hover",y.colors="primary:#4FDDDE,secondary:#4FAAEF",y.stroke="100",y.style="width:25px;height:25px",y.state="hover-empty",o.appendChild(y);const E=document.createElement("div");E.classList.add("details","hidden"),s.appendChild(E);const v=document.createElement("div");v.classList.add("detail-title"),E.appendChild(v);const L=document.createElement("span");L.innerText="Title: ",v.appendChild(L);const S=document.createElement("span");S.innerText=e[t].title,v.appendChild(S);const q=document.createElement("div");q.classList.add("detail-description"),E.appendChild(q);const k=document.createElement("span");k.innerText="Description: ",q.appendChild(k);const x=document.createElement("span");x.innerText=e[t].description,q.appendChild(x);const j=document.createElement("div");j.classList.add("detail-project"),E.appendChild(j);const T=document.createElement("span");T.innerText="Project: ",j.appendChild(T);const C=document.createElement("span");C.innerText=e[t].project,j.appendChild(C);const b=document.createElement("div");b.classList.add("detail-due-date"),E.appendChild(b);const f=document.createElement("span");f.innerText="Due: ",b.appendChild(f);const F=document.createElement("span");F.innerText=e[t].dueDate,b.appendChild(F)},markTask:(e,t)=>{e[t].isImportant&&(document.querySelector(`#task-${t} lord-icon.star`).classList.add("hidden"),document.querySelector(`#task-${t} span.star`).classList.remove("hidden")),e[t].isFinished&&s.toggleFinish(document.querySelector(`#task-${t} .finish-icon`))},addProject:(e,t,n,s)=>{const d=document.createElement("div");d.classList.add("project","category","flex"),d.dataset.index=t,n.appendChild(d);const r=document.createElement("div");r.classList.add("flex"),d.appendChild(r);const i=document.createElement("span");i.classList.add("material-symbols-outlined"),i.innerText=s?"drag_indicator":"checklist",r.appendChild(i);const c=document.createElement("span");if(c.innerText=e[t].title,r.appendChild(c),s){const e=document.createElement("div");e.classList.add("flex"),d.appendChild(e);const t=document.createElement("lord-icon");t.classList.add("project-edit"),t.src="https://cdn.lordicon.com/hiqmdfkt.json",t.trigger="loop-on-hover",t.colors="primary:#4FDDDE,secondary:#4FAAEF",t.stroke="100",t.style="width:25px;height:25px",t.state="hover-empty",e.appendChild(t);const n=document.createElement("lord-icon");n.classList.add("project-trash"),n.src="https://cdn.lordicon.com/tntmaygd.json",n.trigger="loop-on-hover",n.colors="primary:#4FDDDE,secondary:#4FAAEF",n.stroke="100",n.style="width:25px;height:25px",n.state="hover-empty",e.appendChild(n)}}}})(),t=(()=>{const t=document.querySelector("#newProject");let s=[];class d{constructor(e,t){this.title=e,this.isDeleted=t}}s.push(new d("Project 1",!1)),s.push(new d("Project 2",!1)),s.push(new d("Project 3",!1));const r=()=>{document.querySelector(".nav-projects").replaceChildren(),document.querySelector(".projects").replaceChildren();for(let t=0;t<s.length;t++)e.addProject(s,t,document.querySelector(".nav-projects")),e.addProject(s,t,document.querySelector(".projects"),!0);n.addProjectListeners()};return{load:r,create:()=>{s.push(new d(t.value,!1)),e.addProject(s,s.length-1,document.querySelector(".projects"),!0),e.addProject(s,s.length-1,document.querySelector(".nav-projects"),!1),t.value="",n.addProjectListeners()},remove:e=>{s[e.dataset.index].isDeleted=!0,e.remove(),document.querySelector(`[data-index="${e.dataset.index}"`).remove()},prepareEdit:e=>{t.value=s[e.dataset.index].title,t.focus(),document.querySelector(".add-project").classList.add("hidden"),document.querySelector(".save-project").classList.remove("hidden"),document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing"),e.classList.add("editing")},edit:()=>{s[document.querySelector(".editing").dataset.index].title=t.value,t.value="",document.querySelector(".add-project").classList.remove("hidden"),document.querySelector(".save-project").classList.add("hidden"),r()}}})(),n=(()=>{function n(n){for(let d of n)"true"!==d.getAttribute("listener")&&(d.setAttribute("listener","true"),d.addEventListener("click",(n=>{d.classList.contains("finish-icon")?s.toggleFinish(n.target,n.target.parentElement.parentElement.parentElement.id):d.classList.contains("expand")?(n.target.classList.toggle("hidden"),"expand_more"===n.target.innerText?d.nextElementSibling.classList.toggle("hidden"):d.previousElementSibling.classList.toggle("hidden"),n.target.parentElement.parentElement.parentElement.nextElementSibling.classList.toggle("hidden")):d.classList.contains("edit-icon")?(e.toggleForm("task-editor"),s.prepareEdit(n.target.parentElement.parentElement.parentElement)):d.classList.contains("star")?(n.target.classList.toggle("hidden"),s.toggleStar(n.target,n.target.parentElement.parentElement.parentElement.parentElement.id)):d.classList.contains("trash-icon")?s.remove(n.target.parentElement.parentElement.parentElement):d.classList.contains("project-edit")?t.prepareEdit(n.target.parentElement.parentElement):d.classList.contains("project-trash")?t.remove(n.target.parentElement.parentElement):d.classList.contains("cancel")&&e.closeForm()})))}return{addTaskListeners:()=>{n(document.querySelectorAll(".tasks .material-symbols-outlined")),n(document.querySelectorAll(".tasks lord-icon")),n(document.querySelectorAll(".cancel"))},addProjectListeners:()=>{n(document.querySelectorAll(".project-edit")),n(document.querySelectorAll(".project-trash"))}}})(),s=(()=>{const t=document.querySelector("#taskTitle"),s=document.querySelector("#description"),d=document.querySelector("#projectName"),r=document.querySelector("#dueDate"),i=document.querySelector("#isImportant");let c=[];class o{constructor(e,t,n,s,d,r,i){this.title=e,this.description=t,this.project=n,this.dueDate=s,this.isImportant=d,this.isFinished=r,this.isDeleted=i}}return c.push(new o("Add dark mode","Switch toggle on upper right corner","Project 1","2022-10-22",!1,!0)),c.push(new o("Allow tasks to be categorized into projects","","Project 1","2022-10-31",!1,!1)),c.push(new o("Allow tasks to be categorized by date","","Project 1","2022-11-30",!0,!1)),{load:()=>{for(let t=0;t<c.length;t++)e.addTask(c,t,document.querySelector(".tasks")),e.markTask(c,t);n.addTaskListeners()},toggleFinish:(e,t)=>{"circle"===e.innerText?(e.innerText="task_alt",e.classList.add("finished"),e.nextElementSibling.classList.add("finished"),t&&(c[t.substring(5)].isFinished=!0)):(e.innerText="circle",e.classList.remove("finished"),e.nextElementSibling.classList.remove("finished"),t&&(c[t.substring(5)].isFinished=!1))},toggleStar:(e,t)=>{"LORD-ICON"===e.tagName?(e.nextElementSibling.classList.toggle("hidden"),c[t.substring(5)].isImportant=!0):(e.previousElementSibling.classList.toggle("hidden"),c[t.substring(5)].isImportant=!1)},create:()=>{c.push(new o(t.value,s.value,d.value,r.value,i.checked)),e.addTask(c,c.length-1,document.querySelector(".tasks")),e.markTask(c,c.length-1),n.addTaskListeners(),document.querySelector(".task-form").reset()},remove:e=>{c[e.id.substring(5)].isDeleted=!0,e.remove()},prepareEdit:e=>{t.value=c[e.id.substring(5)].title,s.value=c[e.id.substring(5)].description,d.value=c[e.id.substring(5)].project,r.value=c[e.id.substring(5)].dueDate,document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing"),e.classList.add("editing")},edit:()=>{let e=c[document.querySelector(".editing").id.substring(5)];document.querySelector(".editing p").innerText=t.value,e.title=t.value,e.description=s.value,e.project=d.value,e.dueDate=r.value,document.querySelector(".editing .detail-title span:last-child").innerText=t.value,document.querySelector(".editing .detail-description span:last-child").innerText=s.value,document.querySelector(".editing .detail-project span:last-child").innerText=d.value,document.querySelector(".editing .detail-due-date span:last-child").innerText=r.value}}})();s.load(),t.load(),function(){e.getTheme();const n=document.querySelector(".theme-icon");n.addEventListener("click",(()=>n.checked?e.setTheme("dark"):e.setTheme("light"))),document.querySelector(".menu-icon").addEventListener("click",(()=>{e.toggleSidebar()})),document.querySelector(".add-task").addEventListener("click",(()=>{e.toggleForm("task-creator")})),document.querySelector(".create-task").addEventListener("click",(()=>{s.create(),e.closeForm()})),document.querySelector(".confirm-edit").addEventListener("click",(()=>{s.edit(),e.closeForm()})),document.querySelector(".project-settings").addEventListener("click",(()=>{e.toggleForm("project-editor")})),document.querySelector(".add-project").addEventListener("click",(()=>{t.create()})),document.querySelector(".save-project").addEventListener("click",(()=>{t.edit()}))}()})();