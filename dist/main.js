(()=>{"use strict";const e=(()=>{const e=e=>{const t=document.querySelectorAll("lord-icon");for(let n of t)n.setAttribute("colors",e)},t=t=>{document.documentElement.className=t,localStorage.setItem("theme",t);const n=document.querySelector(".theme-icon");"dark"===t?(n.checked=!0,e("primary:#3565B0,secondary:#0540A0")):(n.checked=!1,e("primary:#4FDDDE,secondary:#4FAAEF"))},n=document.querySelector(".task-form"),s=document.querySelector(".project-form"),o=()=>{document.querySelector(".taskView").classList.remove("minimized"),document.querySelector(".visible").classList.replace("visible","minimized"),document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing")},c=(e,t)=>{const n=document.querySelector("#projectName"),s=document.createElement("option");s.value=e,s.innerText=t,n.appendChild(s)};return{setTheme:t,getTheme:()=>{localStorage.getItem("theme"),t(localStorage.getItem("theme"))},toggleSidebar:()=>{document.querySelector(".content").classList.toggle("collapsed")},switchCategories:e=>{document.querySelector(".editing")||(document.querySelector(".active").classList.remove("active"),e.classList.add("active"),r.filter(e))},toggleForm:e=>{document.querySelector(".taskView").classList.add("minimized"),"project-editor"===e?s.classList.contains("visible")?o():(n.classList.replace("visible","minimized"),s.classList.replace("minimized","visible"),document.querySelector("#newProject").value="",document.querySelector(".add-project").classList.remove("hidden"),document.querySelector(".save-project").classList.add("hidden"),document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing")):(s.classList.add("minimized"),n.classList.replace("minimized","visible"),"task-editor"===e?(document.querySelector(".create-task").classList.add("hidden"),document.querySelector(".confirm-edit").classList.remove("hidden"),document.querySelector(".task-form").firstElementChild.innerText="Edit Task",document.querySelector(".isImportant").classList.add("hidden")):"task-creator"===e&&(n.reset(),document.querySelector(".active").classList.contains("project")&&(document.querySelector("#projectName").value=document.querySelector(".active").firstElementChild.lastElementChild.innerText),document.querySelector(".create-task").classList.remove("hidden"),document.querySelector(".confirm-edit").classList.add("hidden"),document.querySelector(".task-form").firstElementChild.innerText="New Task",document.querySelector(".isImportant").classList.remove("hidden")))},closeForm:o,displayTask:(e,t)=>{!function(e,t,n){const s=document.createElement("div");s.classList.add("task"),s.id="task-"+t,n.appendChild(s);const r=document.createElement("div");r.classList.add("line"),s.appendChild(r);const o=document.createElement("div");o.classList.add("flex"),r.appendChild(o);const c=document.createElement("span");c.classList.add("finish-icon","material-symbols-outlined"),c.innerText="circle",o.appendChild(c);const i=document.createElement("p");i.innerText=e[t].title,o.appendChild(i);const d=document.createElement("div");d.classList.add("grid"),r.appendChild(d);const a=document.createElement("p");a.innerText=e[t].dueDate,d.appendChild(a);const l=document.createElement("div");l.classList.add("flex"),d.appendChild(l);const m=document.createElement("span");m.classList.add("expand","material-symbols-outlined"),m.innerText="expand_more",l.appendChild(m);const u=document.createElement("span");u.classList.add("expand","material-symbols-outlined","hidden"),u.innerText="expand_less",l.appendChild(u);const p=document.createElement("lord-icon");p.classList.add("edit-icon"),p.src="https://cdn.lordicon.com/hiqmdfkt.json",p.trigger="loop-on-hover",p.colors="primary:#4FDDDE,secondary:#4FAAEF",p.stroke="100",p.style="width:25px;height:25px",d.appendChild(p);const h=document.createElement("div");h.classList.add("flex"),d.appendChild(h);const y=document.createElement("lord-icon");y.classList.add("star"),y.src="https://cdn.lordicon.com/whttoese.json",y.trigger="morph",y.colors="primary:#4FDDDE,secondary:#4FAAEF",y.stroke="100",y.style="width:25px;height:25px",h.appendChild(y);const g=document.createElement("span");g.classList.add("star","material-symbols-outlined","hidden"),g.innerText="star",h.appendChild(g);const S=document.createElement("lord-icon");S.classList.add("trash-icon"),S.src="https://cdn.lordicon.com/tntmaygd.json",S.trigger="loop-on-hover",S.colors="primary:#4FDDDE,secondary:#4FAAEF",S.stroke="100",S.style="width:25px;height:25px",S.state="hover-empty",d.appendChild(S);const v=document.createElement("div");v.classList.add("details","hidden"),s.appendChild(v);const E=document.createElement("div");E.classList.add("detail-title"),v.appendChild(E);const L=document.createElement("span");L.innerText="Title: ",E.appendChild(L);const q=document.createElement("span");q.innerText=e[t].title,E.appendChild(q);const j=document.createElement("div");j.classList.add("detail-description"),v.appendChild(j);const k=document.createElement("span");k.innerText="Description: ",j.appendChild(k);const x=document.createElement("span");x.innerText=e[t].description,j.appendChild(x);const T=document.createElement("div");T.classList.add("detail-project"),v.appendChild(T);const f=document.createElement("span");f.innerText="Project: ",T.appendChild(f);const C=document.createElement("span");C.innerText=e[t].project,T.appendChild(C);const D=document.createElement("div");D.classList.add("detail-due-date"),v.appendChild(D);const w=document.createElement("span");w.innerText="Due: ",D.appendChild(w);const b=document.createElement("span");b.innerText=e[t].dueDate,D.appendChild(b)}(e,t,document.querySelector(".tasks")),function(e,t){e[t].isImportant&&(document.querySelector(`#task-${t} lord-icon.star`).classList.add("hidden"),document.querySelector(`#task-${t} span.star`).classList.remove("hidden")),e[t].isCompleted&&r.toggleFinish(document.querySelector(`#task-${t} .finish-icon`))}(e,t)},addOption:c,addProject:(e,t,n,s)=>{const r=document.createElement("div");s?r.classList.add("project","category","flex"):r.classList.add("nav-category","project","category","flex"),r.dataset.index=t,n.appendChild(r);const o=document.createElement("div");o.classList.add("flex"),r.appendChild(o);const i=document.createElement("span");i.classList.add("material-symbols-outlined"),i.innerText=s?"drag_indicator":"checklist",o.appendChild(i);const d=document.createElement("span");if(d.innerText=e[t].title,o.appendChild(d),s){c(e[t].title,e[t].title);const n=document.createElement("div");n.classList.add("flex"),r.appendChild(n);const s=document.createElement("lord-icon");s.classList.add("project-edit"),s.src="https://cdn.lordicon.com/hiqmdfkt.json",s.trigger="loop-on-hover",s.colors="primary:#4FDDDE,secondary:#4FAAEF",s.stroke="100",s.style="width:25px;height:25px",s.state="hover-empty",n.appendChild(s);const o=document.createElement("lord-icon");o.classList.add("project-trash"),o.src="https://cdn.lordicon.com/tntmaygd.json",o.trigger="loop-on-hover",o.colors="primary:#4FDDDE,secondary:#4FAAEF",o.stroke="100",o.style="width:25px;height:25px",o.state="hover-empty",n.appendChild(o)}}}})(),t=(()=>{const t=document.querySelector("#newProject");let s=[];class o{constructor(e,t){this.title=e,this.isDeleted=t}}s.push(new o("Project 1",!1)),s.push(new o("Project 2",!1)),s.push(new o("Project 3",!1)),s.push(new o("Project 4",!1)),s.push(new o("Project 5",!1)),s.push(new o("Project 6",!1)),s.push(new o("Project 7",!1)),s.push(new o("Project 8",!1)),s.push(new o("Project 9",!1)),s.push(new o("Project 10",!1)),s.push(new o("Project 11",!1)),s.push(new o("Project 12",!1));const c=()=>{localStorage.setItem("projects",JSON.stringify(s)),s=JSON.parse(localStorage.getItem("projects"))};return{load:()=>{document.querySelector(".projects").replaceChildren(),document.querySelector("#projectName").replaceChildren(),e.addOption("None","None"),localStorage.getItem("projects")?s=JSON.parse(localStorage.getItem("projects")):c();for(let t=0;t<s.length;t++)s[t].isDeleted||(e.addProject(s,t,document.querySelector(".nav-projects")),e.addProject(s,t,document.querySelector(".projects"),!0));n.addProjectListeners()},create:()=>{s.push(new o(t.value,!1)),c(),e.addProject(s,s.length-1,document.querySelector(".projects"),!0),e.addProject(s,s.length-1,document.querySelector(".nav-projects"),!1),t.value="",n.addProjectListeners()},remove:t=>{let n=t.dataset.index;s[n].isDeleted=!0,c(),r.updateProject(s[n].title,"None"),t.remove(),document.querySelector(`[value="${s[n].title}"]`).remove(),document.querySelector(".active").dataset.index===n&&e.switchCategories(document.querySelector(".all")),document.querySelector(`[data-index="${n}"]`).remove()},prepareEdit:e=>{t.value=s[e.dataset.index].title,t.focus(),document.querySelector(".add-project").classList.add("hidden"),document.querySelector(".save-project").classList.remove("hidden"),document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing"),e.classList.add("editing")},edit:()=>{let e=document.querySelector(".editing").dataset.index;r.updateProject(s[e].title,t.value),document.querySelector(".editing").firstElementChild.lastElementChild.innerText=t.value,document.querySelector(`[data-index="${e}"]`).firstElementChild.lastElementChild.innerText=t.value,s[e].title=t.value,c(),t.value="",document.querySelector(".add-project").classList.remove("hidden"),document.querySelector(".save-project").classList.add("hidden")}}})(),n=(()=>{function n(n){for(let s of n)"true"!==s.getAttribute("listener")&&(s.setAttribute("listener","true"),s.addEventListener("click",(n=>{s.classList.contains("finish-icon")?r.toggleFinish(n.target,n.target.parentElement.parentElement.parentElement.id):s.classList.contains("expand")?(n.target.classList.toggle("hidden"),"expand_more"===n.target.innerText?s.nextElementSibling.classList.toggle("hidden"):s.previousElementSibling.classList.toggle("hidden"),n.target.parentElement.parentElement.parentElement.nextElementSibling.classList.toggle("hidden")):s.classList.contains("edit-icon")?(e.toggleForm("task-editor"),r.prepareEdit(n.target.parentElement.parentElement.parentElement)):s.classList.contains("star")?(n.target.classList.toggle("hidden"),r.toggleStar(n.target,n.target.parentElement.parentElement.parentElement.parentElement.id)):s.classList.contains("trash-icon")?r.remove(n.target.parentElement.parentElement.parentElement):s.classList.contains("project-edit")?t.prepareEdit(n.target.parentElement.parentElement):s.classList.contains("project-trash")?t.remove(n.target.parentElement.parentElement):s.classList.contains("cancel")?e.closeForm():s.classList.contains("nav-category")&&e.switchCategories(n.currentTarget)})))}return{findBtn:n,addTaskListeners:()=>{n(document.querySelectorAll(".tasks .material-symbols-outlined")),n(document.querySelectorAll(".tasks lord-icon")),n(document.querySelectorAll(".cancel"))},addProjectListeners:()=>{n(document.querySelectorAll(".project-edit")),n(document.querySelectorAll(".project-trash")),n(document.querySelectorAll(".nav-category"))}}})(),s=(()=>{let e=new Date,t=e.getFullYear(),n=("0"+((new Date).getMonth()+1)).slice(-2),s=("0"+e.getDate()).slice(-2),r=new Date(t,0,1);const o=(e,t,n)=>{let s=new Date(e,t-1,n);return Math.floor((s-r)/864e5)};return{today:e,yyyy:t,mm:n,dd:s,findDayNum:o,findWeekNum:(e,t,n)=>Math.ceil(o(e,t,n)/7),findNextDay:e=>{let t=new Date;return t.setDate(t.getDate()+e),t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}}})(),r=(()=>{const t=document.querySelector("#taskTitle"),r=document.querySelector("#description"),o=document.querySelector("#projectName"),c=document.querySelector("#dueDate"),i=document.querySelector("#isImportant");let d=[];class a{constructor(e,t,n,s,r,o,c){this.title=e,this.description=t,this.project=n,this.dueDate=s,this.isImportant=r,this.isCompleted=o,this.isDeleted=c}}d.push(new a("Add dark mode","Switch toggle on upper right corner","Project 1",s.findNextDay(-10),!1,!0)),d.push(new a("Change font","Find better fonts on Google Fonts","Project 1",s.findNextDay(-1),!1,!1)),d.push(new a("Allow tasks to be categorized into projects","","Project 1",s.findNextDay(0),!0,!0)),d.push(new a("Allow tasks to be categorized by date","","Project 1",s.findNextDay(0),!0,!0)),d.push(new a("Display due dates on each task","Hide due date when screen is narrow","Project 1",s.findNextDay(1),!1,!0)),d.push(new a("Add Overdue category","In nav between This Month & Important","Project 1",s.findNextDay(3),!0,!0)),d.push(new a("Organize tasks by day of the week","Format as Sunday - Dec. 25, 2022","Project 1",s.findNextDay(15),!1,!1)),d.push(new a("Allow the order of projects to be rearranged","","Project 1",s.findNextDay(29),!1,!1)),d.push(new a("Save data via localStorage","","Project 2",s.findNextDay(30),!0,!0)),d.push(new a("Add tasks for other projects","Tic Tac Toe, Pixel Painter","Project 3",s.findNextDay(50),!1,!1));const l=()=>{localStorage.setItem("tasks",JSON.stringify(d)),d=JSON.parse(localStorage.getItem("tasks"))},m=t=>{document.querySelector(".tasks").replaceChildren();for(let n=0;n<d.length;n++){let r=d[n].dueDate,o=r.substring(0,4),c=r.substring(5,7),i=r.substring(8);if(!d[n].isDeleted)if(t.classList.contains("project")){let s=t.firstElementChild.lastElementChild.innerText;document.querySelector("h1").innerText=`${s} Tasks`,d[n].project===s&&e.displayTask(d,n)}else t.classList.contains("all")?(document.querySelector("h1").innerText="All Tasks",e.displayTask(d,n)):t.classList.contains("today")?(document.querySelector("h1").innerText="Today's Tasks",r===s.yyyy+"-"+s.mm+"-"+s.dd&&e.displayTask(d,n)):t.classList.contains("thisWeek")?(document.querySelector("h1").innerText="This Week's Tasks",s.findWeekNum(o,c,i)===s.findWeekNum(s.yyyy,s.mm,s.dd)&&e.displayTask(d,n)):t.classList.contains("thisMonth")?(document.querySelector("h1").innerText="This Month's Tasks",c===String(s.mm)&&e.displayTask(d,n)):t.classList.contains("overdue")?(document.querySelector("h1").innerText="Overdue Tasks",0>s.findDayNum(o,c,i)-s.findDayNum(s.yyyy,s.mm,s.dd)&&!d[n].isCompleted&&e.displayTask(d,n)):t.classList.contains("important")?(document.querySelector("h1").innerText="Important Tasks",d[n].isImportant&&e.displayTask(d,n)):t.classList.contains("completed")&&(document.querySelector("h1").innerText="Completed Tasks",d[n].isCompleted&&e.displayTask(d,n))}n.addTaskListeners()};return{load:()=>{localStorage.getItem("tasks")?d=JSON.parse(localStorage.getItem("tasks")):l();for(let t=0;t<d.length;t++)d[t].isDeleted||e.displayTask(d,t);n.addTaskListeners()},filter:m,toggleFinish:(e,t)=>{"circle"===e.innerText?(e.innerText="task_alt",e.classList.add("finished"),e.nextElementSibling.classList.add("finished"),t&&(d[t.substring(5)].isCompleted=!0)):(e.innerText="circle",e.classList.remove("finished"),e.nextElementSibling.classList.remove("finished"),t&&(d[t.substring(5)].isCompleted=!1)),l()},toggleStar:(e,t)=>{"LORD-ICON"===e.tagName?(e.nextElementSibling.classList.toggle("hidden"),d[t.substring(5)].isImportant=!0):(e.previousElementSibling.classList.toggle("hidden"),d[t.substring(5)].isImportant=!1),l()},create:()=>{d.push(new a(t.value,r.value,o.value,c.value,i.checked)),l(),document.querySelector(".task-form").reset(),m(document.querySelector(".active"))},remove:e=>{d[e.id.substring(5)].isDeleted=!0,l(),e.remove()},prepareEdit:e=>{t.value=d[e.id.substring(5)].title,r.value=d[e.id.substring(5)].description,o.value=d[e.id.substring(5)].project,c.value=d[e.id.substring(5)].dueDate,document.querySelector(".editing")&&document.querySelector(".editing").classList.remove("editing"),e.classList.add("editing")},edit:()=>{let e=d[document.querySelector(".editing").id.substring(5)];document.querySelector(".editing p").innerText=t.value,document.querySelector(".editing .grid p").innerText=c.value,e.title=t.value,e.description=r.value,e.project=o.value,e.dueDate=c.value,l(),document.querySelector(".editing .detail-title span:last-child").innerText=t.value,document.querySelector(".editing .detail-description span:last-child").innerText=r.value,document.querySelector(".editing .detail-project span:last-child").innerText=o.value,document.querySelector(".editing .detail-due-date span:last-child").innerText=c.value},updateProject:(e,t)=>{for(let n=0;n<d.length;n++)d[n].project===e&&(document.querySelector(`#task-${n} .detail-project`)&&(document.querySelector(`#task-${n} .detail-project`).lastElementChild.innerText=t),d[n].project=t,l());"None"!==t&&(document.querySelector(`[value="${e}"]`).innerText=t,document.querySelector(`[value="${e}"]`).setAttribute("value",t))}}})();r.load(),t.load(),function(){e.getTheme();const n=document.querySelector(".theme-icon");n.addEventListener("click",(()=>n.checked?e.setTheme("dark"):e.setTheme("light"))),document.querySelector(".menu-icon").addEventListener("click",(()=>{e.toggleSidebar()})),document.querySelector(".add-task").addEventListener("click",(()=>{e.toggleForm("task-creator")})),document.querySelector(".task-form").addEventListener("submit",(t=>{t.preventDefault(),r.create(),e.closeForm()})),document.querySelector(".create-task").addEventListener("click",(()=>{r.create(),e.closeForm()})),document.querySelector(".confirm-edit").addEventListener("click",(()=>{r.edit(),e.closeForm()})),document.querySelector(".project-settings").addEventListener("click",(()=>{e.toggleForm("project-editor")})),document.querySelector(".project-form").addEventListener("submit",(e=>{e.preventDefault(),t.create()})),document.querySelector(".add-project").addEventListener("click",(()=>{t.create()})),document.querySelector(".save-project").addEventListener("click",(()=>{t.edit()}))}()})();